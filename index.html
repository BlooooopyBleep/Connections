<!DOCTYPE html>
<html>

<head>
  <title>Connections</title>
  <style>
    

    h1 {
      text-align: center;
      font-weight: bold;
      color: white;
      font-size: 4vw;
      font-size: 4vh;
      font-family: "Helvetica";

    }

    body {
      margin: 2vh;
      background-color: #495057;
      height: 100vh;
      overflow: hidden;
    }

     .highlighted {
      border: 2px solid yellow;
    }
    .button {
      font-size: 2vw;
      color: white;
      font-family: "Helvetica";
      border-radius: 10px;
      background-color: rgba(125, 125, 125, 0.5);
      padding: 1vh;
      margin-left: 2vw;
    }

    .empty-item {
      background-color: #343a40;
    }

    .non-empty-item {
      background-color: #6c757d;
    }

    .grid-container {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(20%, 1fr));
      gap: 1.5vh;
      gap: 1.5vw;
      padding: 2vh;
      width: 90%;
      font-weight: bold;
      margin: 0 auto;
      text-align: center;
      height: 60vh;
    }

    .grid-item {
      font-family: "Helvetica";

      font-size: 1.5vw;
      font-size: 1.5vh;
      color: white;
      text-align: center;
      border-radius: 15px;
      box-sizing: border-box;
      padding: 1vh;
      padding: 1vw;
      touch-action: manipulation;
    }
  </style>
</head>

<body>

  <h1>&nbsp</h1>
  <h1><b>Connections: See It!</b></h1>

  <div class="grid-container">

    <div class="grid-item non-empty-item" ontouchstart="handleTouchStart(event)" ontouchmove="handleTouchMove(event)" ontouchend="handleTouchEnd(event)" id="box1">placeholder</div>
    <div class="grid-item non-empty-item" ontouchstart="handleTouchStart(event)" ontouchmove="handleTouchMove(event)" ontouchend="handleTouchEnd(event)" id="box2">placeholder</div>
    <div class="grid-item non-empty-item" ontouchstart="handleTouchStart(event)" ontouchmove="handleTouchMove(event)" ontouchend="handleTouchEnd(event)" id="box3">placeholder</div>
    <div class="grid-item non-empty-item" ontouchstart="handleTouchStart(event)" ontouchmove="handleTouchMove(event)" ontouchend="handleTouchEnd(event)" id="box4">placeholder</div>

    <div class="grid-item non-empty-item" ontouchstart="handleTouchStart(event)" ontouchmove="handleTouchMove(event)" ontouchend="handleTouchEnd(event)" id="box5">placeholder</div>
    <div class="grid-item non-empty-item" ontouchstart="handleTouchStart(event)" ontouchmove="handleTouchMove(event)" ontouchend="handleTouchEnd(event)" id="box6">placeholder</div>
    <div class="grid-item non-empty-item" ontouchstart="handleTouchStart(event)" ontouchmove="handleTouchMove(event)" ontouchend="handleTouchEnd(event)" id="box7">placeholder</div>
    <div class="grid-item non-empty-item" ontouchstart="handleTouchStart(event)" ontouchmove="handleTouchMove(event)" ontouchend="handleTouchEnd(event)" id="box8">placeholder</div>

    <div class="grid-item non-empty-item" ontouchstart="handleTouchStart(event)" ontouchmove="handleTouchMove(event)" ontouchend="handleTouchEnd(event)" id="box9">placeholder</div>
    <div class="grid-item non-empty-item" ontouchstart="handleTouchStart(event)" ontouchmove="handleTouchMove(event)" ontouchend="handleTouchEnd(event)" id="box10">placeholder</div>
    <div class="grid-item non-empty-item" ontouchstart="handleTouchStart(event)" ontouchmove="handleTouchMove(event)" ontouchend="handleTouchEnd(event)" id="box11">placeholder</div>
    <div class="grid-item non-empty-item" ontouchstart="handleTouchStart(event)" ontouchmove="handleTouchMove(event)" ontouchend="handleTouchEnd(event)" id="box12">placeholder</div>

    <div class="grid-item non-empty-item" ontouchstart="handleTouchStart(event)" ontouchmove="handleTouchMove(event)" ontouchend="handleTouchEnd(event)" id="box13">placeholder</div>
    <div class="grid-item non-empty-item" ontouchstart="handleTouchStart(event)" ontouchmove="handleTouchMove(event)" ontouchend="handleTouchEnd(event)" id="box14">placeholder</div>
    <div class="grid-item non-empty-item" ontouchstart="handleTouchStart(event)" ontouchmove="handleTouchMove(event)" ontouchend="handleTouchEnd(event)" id="box15">placeholder</div>
    <div class="grid-item non-empty-item" ontouchstart="handleTouchStart(event)" ontouchmove="handleTouchMove(event)" ontouchend="handleTouchEnd(event)" id="box16">placeholder</div>

    <div class="grid-item empty-item" ontouchstart="handleTouchStart(event)" ontouchmove="handleTouchMove(event)" ontouchend="handleTouchEnd(event)" id="num1"><i>&nbsp</i></div>
    <div class="grid-item empty-item" ontouchstart="handleTouchStart(event)" ontouchmove="handleTouchMove(event)" ontouchend="handleTouchEnd(event)" id="num2"><i>&nbsp</i></div>
    <div class="grid-item empty-item" ontouchstart="handleTouchStart(event)" ontouchmove="handleTouchMove(event)" ontouchend="handleTouchEnd(event)" id="num3"><i>&nbsp</i></div>
    <div class="grid-item empty-item" ontouchstart="handleTouchStart(event)" ontouchmove="handleTouchMove(event)" ontouchend="handleTouchEnd(event)" id="num4"><i>&nbsp</i></div>

    <div class="grid-item empty-item" ontouchstart="handleTouchStart(event)" ontouchmove="handleTouchMove(event)" ontouchend="handleTouchEnd(event)" id="num5"><i>&nbsp</i></div>
    <div class="grid-item empty-item" ontouchstart="handleTouchStart(event)" ontouchmove="handleTouchMove(event)" ontouchend="handleTouchEnd(event)" id="num6"><i>&nbsp</i></div>
    <div class="grid-item empty-item" ontouchstart="handleTouchStart(event)" ontouchmove="handleTouchMove(event)" ontouchend="handleTouchEnd(event)" id="num7"><i>&nbsp</i></div>
    <div class="grid-item empty-item" ontouchstart="handleTouchStart(event)" ontouchmove="handleTouchMove(event)" ontouchend="handleTouchEnd(event)" id="num8"><i>&nbsp</i></div>

    <div class="grid-item empty-item" ontouchstart="handleTouchStart(event)" ontouchmove="handleTouchMove(event)" ontouchend="handleTouchEnd(event)" id="num9"><i>&nbsp</i></div>
    <div class="grid-item empty-item" ontouchstart="handleTouchStart(event)" ontouchmove="handleTouchMove(event)" ontouchend="handleTouchEnd(event)" id="num10"><i>&nbsp</i></div>
    <div class="grid-item empty-item" ontouchstart="handleTouchStart(event)" ontouchmove="handleTouchMove(event)" ontouchend="handleTouchEnd(event)" id="num11"><i>&nbsp</i></div>
    <div class="grid-item empty-item" ontouchstart="handleTouchStart(event)" ontouchmove="handleTouchMove(event)" ontouchend="handleTouchEnd(event)" id="num12"><i>&nbsp</i></div>

    <div class="grid-item empty-item" ontouchstart="handleTouchStart(event)" ontouchmove="handleTouchMove(event)" ontouchend="handleTouchEnd(event)" id="num13"><i>&nbsp</i></div>
    <div class="grid-item empty-item" ontouchstart="handleTouchStart(event)" ontouchmove="handleTouchMove(event)" ontouchend="handleTouchEnd(event)" id="num14"><i>&nbsp</i></div>
    <div class="grid-item empty-item" ontouchstart="handleTouchStart(event)" ontouchmove="handleTouchMove(event)" ontouchend="handleTouchEnd(event)" id="num15"><i>&nbsp</i></div>
    <div class="grid-item empty-item" ontouchstart="handleTouchStart(event)" ontouchmove="handleTouchMove(event)" ontouchend="handleTouchEnd(event)" id="num16"><i>&nbsp</i></div>

  </div>
  <script>
    var data = ["SAINT", "BAD", "BOY", "BY", "FLY", "TEE", "JAY", "FRESH", "CROP", "GEE", "CURIOUS", "BEE", "RAD", "EX", "TANK", "POLO"];

// Ensure the loop starts from 0 and goes up to data.length
for (var wordNum = 0; wordNum < data.length; wordNum++) {
  // Adjust the element IDs to match your HTML structure
  document.getElementById("box" + (wordNum + 1)).innerHTML = data[wordNum];
}

var selectedTextBox = null;

function handleTouchStart(event) {
  event.preventDefault();
  var touchedElement = document.elementFromPoint(event.touches[0].clientX, event.touches[0].clientY);
  if (touchedElement && touchedElement.classList.contains('grid-item')) {
    selectedTextBox = touchedElement;
    highlightBox(selectedTextBox);
    selectedTextBox.style.transition = 'none';
    selectedTextBox.style.pointerEvents = 'none'; // Disable hitbox
  }
}

function handleTouchMove(event) {
  event.preventDefault();
  if (selectedTextBox) {
    var rect = selectedTextBox.getBoundingClientRect();
    var offsetX = rect.width / 2;
    var offsetY = rect.height / 2;

    // Adjust for scroll position
    var scrollX = window.pageXOffset || document.documentElement.scrollLeft;
    var scrollY = window.pageYOffset || document.documentElement.scrollTop;

    selectedTextBox.style.left = event.touches[0].clientX - offsetX + scrollX + 'px';
    selectedTextBox.style.top = event.touches[0].clientY - offsetY + scrollY + 'px';
  }
}

function handleTouchEnd(event) {
  event.preventDefault();
  if (selectedTextBox) {
    selectedTextBox.style.transition = ''; // Reset transition
    selectedTextBox.style.left = '';
    selectedTextBox.style.top = '';
    selectedTextBox.style.pointerEvents = 'auto'; // Enable hitbox
    var target = document.elementFromPoint(event.changedTouches[0].clientX, event.changedTouches[0].clientY);
    if (target && target.classList.contains('grid-item') && !target.classList.contains('selected')) {
      var data = selectedTextBox.innerHTML;
      selectedTextBox.innerHTML = target.innerHTML;
      target.innerHTML = data;
      target.classList.remove('highlighted');
    }
    selectedTextBox = null;
  }
}

function highlightBox(touchedTextBox) {
  if (touchedTextBox.classList.contains('grid-item') && !touchedTextBox.classList.contains('selected')) {
    touchedTextBox.classList.add('highlighted');
  }
}

// Add touch event listeners
document.addEventListener('touchstart', handleTouchStart, { passive: false });
document.addEventListener('touchmove', handleTouchMove, { passive: false });
document.addEventListener('touchend', handleTouchEnd);


  </script>
</body>

</html>
